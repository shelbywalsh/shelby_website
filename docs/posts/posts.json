[
  {
    "path": "posts/a4_web/",
    "title": "Dendrogram Trials",
    "description": "Trying out different dendrograms.",
    "author": [
      {
        "name": "Shelby Walsh",
        "url": {}
      }
    ],
    "date": "2021-03-13",
    "categories": [],
    "contents": "\n\n\nlibrary(tidyverse)\nlibrary(here)\nlibrary(janitor)\nlibrary(palmerpenguins)\nlibrary(NbClust)\nlibrary(cluster)\nlibrary(factoextra)\nlibrary(dendextend)\nlibrary(ggdendro)\nlibrary(ape)\n\n\n\nA look into stream chemistry in the Santa Barbara Coastal drainage area. This analysis looks at 13 different sites and their relationships to one another.\n\n\n#read in data\nstrem_chem <- read_csv(\"sbc_stream_chem.csv\") \n\n#change -999 to NA, summarise each site to get the mean values of each site\nstream_chem <- na_if(strem_chem, -999) %>% \n  clean_names() %>% \n  group_by(site_code) %>% \n  select(-timestamp_local) %>% \n  summarise_at(vars(nh4_u_m:spec_cond_u_spercm), mean, na.rm = TRUE)\n\n\n\n\n\n#scale data\nstream_scaled <- stream_chem %>% \n  select(nh4_u_m:spec_cond_u_spercm) %>% \n  scale()\n\n#add back in site locations\nrownames(stream_scaled) <- stream_chem$site_code\n\n#calulate the euclidean distance from sites\neuc_distance <- dist(stream_scaled, method = \"euclidean\")\n\n\n\n\n\n#perform complete linkage clustering\nstream_complete <- hclust(euc_distance, method = \"complete\" )\n\nstream_complete <- as.dendrogram(stream_complete)\n\n#plot dendrogram normal\n#plot(stream_complete, cex = 0.6, hang = -1)\n\n#create a fun fan dendrogram\nfan <- plot(as.phylo(stream_complete), type = \"fan\", main = \"Santa Barbara Coastal Stream Chemistry Dendrogram\") \n\n\n\nsp <- stream_complete %>% \n  set(\"branches_k_color\", \n             value = c(\"darkred\", \"darkblue\", \"darkgreen\", \"orange\", \"gold\", \"palegreen3\"), k = 7) %>% \n   plot(main = \"Santa Barbara Coastal Stream Chemistry Dendrogram\")\n\n\n\n\n\n\n\n",
    "preview": "posts/a4_web/dendro_files/figure-html5/unnamed-chunk-4-1.png",
    "last_modified": "2021-03-13T12:05:49-08:00",
    "input_file": {}
  },
  {
    "path": "posts/ass_2_w/",
    "title": "Logistic Regression",
    "description": "Logistic Regression on 2 species of Floridian Palmettos.",
    "author": [
      {
        "name": "Shelby Walsh",
        "url": {}
      }
    ],
    "date": "2021-03-13",
    "categories": [],
    "contents": "\nData Visualizations to explore Palmetto Species differences\n\n\npalmetto_height <- ggplot(data = palmetto, aes(x = height, y = length)) +\n                            geom_point(aes(color = full_name)) +\n  scale_colour_manual(values = c(\"darkolivegreen4\", \"goldenrod2\")) +\n  labs(x = \"Height (cm)\",\n       y = \"Length (cm)\", \n       title = \"Comparison of Canopy Height and Length of Two South-Central \\nFlorida Palmetto Species, Sabel etonia and Serenoa repens\") +\n  theme(legend.title = element_blank()) +\n  theme(plot.title = element_text(size = 12,\n                                   face = \"bold\",\n        hjust = 0.5))\n\npalmetto_height\n\n\n\n\nFigure 1: Figure 1. Exploritory visualization to explore the differences in two dominant Palmetto species, Sabel etonia and Serenoa repens, based on height and canopy length.\n\n\n\nHeight and length have a correlation with species\n\n\npalmetto_canopy <- ggplot(data = palmetto, aes(x = width, y = green_lvs)) +\n                            geom_point(aes(color = full_name))+\n  scale_colour_manual(values = c(\"darkolivegreen4\", \"goldenrod2\"))+\n  labs(x = \"Width (cm)\",\n       y = \"Green Leaf Count\", \n       title = \"Comparison of Canopy Width and Green Leaf Count of Two South-Central \\nFlorida Palmetto Species, Sabel etonia and Serenoa repens\") +\n  theme(legend.title = element_blank()) +\n  theme(plot.title = element_text(size = 12,\n                                   face = \"bold\",\n        hjust = 0.5))\n\n\npalmetto_canopy\n\n\n\n\nFigure 2: Figure 2. Exploritory visualization to explore the differences in two dominant Palmetto species, Sabel etonia and Serenoa repens, based on canopy width and green leaf observations.\n\n\n\nThere seems to be a difference between the 2 species based on green leaf count and width\n\n\npalmetto_hg <- ggplot(data = palmetto, aes(x = green_lvs, y = height)) +\n                            geom_point(aes(color = full_name)) +\n  scale_colour_manual(values = c(\"darkolivegreen4\", \"goldenrod2\"))+\n  labs(x = \"Green Leaf Count\",\n       y = \"Height (cm)\", \n       title = \"Comparison of Height and Green Leaf Count of Two South-Central \\nFlorida Palmetto Species, Sabel etonia and Serenoa repens\") +\n  theme(legend.title = element_blank()) +\n  theme(plot.title = element_text(size = 12,\n                                   face = \"bold\",\n        hjust = 0.5))\n\n\npalmetto_hg\n\n\n\n\nFigure 3: Figure 3. Exploritory visualization to explore the two strongest differences in two dominant Palmetto species, Sabel etonia and Serenoa repens, based on height and green leaf observations.\n\n\n\nGreen leaf count seem to be strong indicator for species\nBinary Logistic Regression for Palmetto Species, Sabel etonia and Serenoa repens.\nSpecifically looking at the relationship between species identification and canopy height, length, width and green leaf observations.\n\n\n#running the regression and making a table\npalmetto_blr <- glm(species ~ height + length + width + green_lvs,\n                            data = palmetto,\n                            family = \"binomial\")\n\n#summary(palmetto_blr)\n\nblr_tidy <- broom::tidy(palmetto_blr)\n\nblr_tidy %>%\nkbl(caption = \"**Table 1.** Palmetto Logistic Regression Results\") %>%\n  kable_classic(full_width = F, html_font = \"Cambria\") %>% \n  add_header_above(c( \"Species\" = 5))\n\n\n\nTable 1: Table 1. Palmetto Logistic Regression Results\n\n\n\nSpecies\n\n\n\nterm\n\n\nestimate\n\n\nstd.error\n\n\nstatistic\n\n\np.value\n\n\n(Intercept)\n\n\n3.2266851\n\n\n0.1420708\n\n\n22.71180\n\n\n0\n\n\nheight\n\n\n-0.0292173\n\n\n0.0023061\n\n\n-12.66984\n\n\n0\n\n\nlength\n\n\n0.0458233\n\n\n0.0018661\n\n\n24.55600\n\n\n0\n\n\nwidth\n\n\n0.0394434\n\n\n0.0021000\n\n\n18.78227\n\n\n0\n\n\ngreen_lvs\n\n\n-1.9084747\n\n\n0.0388634\n\n\n-49.10728\n\n\n0\n\n\n#ggplot(data = palmetto, aes(x = species, y = height)) +\n  #geom_jitter(aes(color = length)) +\n  #theme(legend.position = \"none\")\n\n\n\n\n\n#creating a clean table and labels\n#clean_table <- tab_model(palmetto_blr)\n\n#clean_table\n\n\n\nModel Prediction and Classification\nAnalyzing our regression model and looking at the accuracy of the predictions. Predictions are classified as correct when the probability is >0.5 of matching the orginal species.\n\n\n#predict species\nblr_fitted <- palmetto_blr %>% \n broom::augment(type.predict = \"response\") %>% \n  mutate(predict_species = ifelse(.fitted >= 0.5, \"Serenoa repens\", \"Sabal etonia\"))\n\n#sort and predict species to find how often it is right\nblr_correct <- blr_fitted %>% \n  mutate(species = case_when(species == 1 ~ \"Serenoa repens\",\n                             species == 2 ~ \"Sabal etonia\")) %>% \n  mutate(correct = case_when(predict_species == species ~ \"incorrect\",\n                             TRUE ~ \"correct\")) %>% \n  select(species, .fitted, predict_species, correct) %>% \n group_by(species, correct) %>% \n  summarize(number_correct = n())\n\n#pivot to get table in tidy format\nblr_correct <- blr_correct %>% \n  pivot_wider(names_from = correct,\n              values_from = number_correct)\n\npretty_correct <- blr_correct %>% \n  group_by(species) %>% \nmutate(percent_correct = correct/(correct + incorrect)) %>% \n  mutate(percent_correct = percent(percent_correct))\n\npretty_correct <- pretty_correct %>% \n  rename(\"Species\" = species,\n         \"Correct\" = correct,\n         \"Incorrect\" = incorrect, \n         \"% Correct\" = percent_correct)\n\npretty_correct %>%\nkbl(caption = \"**Table 2.** Predicted Palmetto Species Identification Results\") %>%\n  kable_classic(full_width = F, html_font = \"Cambria\")\n\n\n\nTable 2: Table 2. Predicted Palmetto Species Identification Results\n\n\nSpecies\n\n\nCorrect\n\n\nIncorrect\n\n\n% Correct\n\n\nSabal etonia\n\n\n5701\n\n\n454\n\n\n93%\n\n\nSerenoa repens\n\n\n5548\n\n\n564\n\n\n91%\n\n\n\n\n\n",
    "preview": "posts/ass_2_w/palmetto_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2021-03-13T09:59:54-08:00",
    "input_file": {}
  },
  {
    "path": "posts/ass_3_part_3 copy/",
    "title": "Word Cloud",
    "description": "Data visualization of artic sea ice patterns over the last 40 years.",
    "author": [
      {
        "name": "Shelby Walsh",
        "url": {}
      }
    ],
    "date": "2021-03-13",
    "categories": [],
    "contents": "\nWind in the Willows: The cheekiest book ever\nThis wild ride, is full of twists, turns and friendships. Sadly this analysis did not turn out the way I invisioned. Time has distorted my memory. Unfortunately, “ass” only appears 11 times, but in my memory and heart, it is the most important word in the entire book.\nI want to give a shout out to all the fathers out there, who strategically pick when to popcorn your children to read aloud the curse words in this book.\nText was provided by: https://freeditorial.com/en/books/the-wind-in-the-willows/related-books\nThe 4 BEST FRIENDS that anyone could have.\n\nwillow_text <- pdf_text(\"ww.pdf\")\n\nwillow_tidy <- data.frame(willow_text) %>% \n  mutate(text_full = str_split(willow_text, pattern = '\\\\n')) %>% \n  unnest(text_full) %>% \n  mutate(text_full = str_trim(text_full)) \n\n\n\n\n\nwillow_df <- willow_tidy %>% \n  slice(-(1:4))\n  \n\nwillow_tokens <- willow_df %>% \n  unnest_tokens(word, text_full) %>% \n  select(-willow_text)\n\nwillow_nonstop_words <- willow_tokens %>% \n  anti_join(stop_words)\n\nnonstop_counts <- willow_nonstop_words %>% \n  count(word)\n\ntop_200 <- nonstop_counts %>% \n  arrange(-n) %>% \n  slice(1:200)\n\ntop_50 <- nonstop_counts %>% \n  arrange(-n) %>% \n  slice(1:50)\n\ntop_100 <- nonstop_counts %>% \n  arrange(-n) %>% \n  slice(1:100)\n\ntop_100_wo <- nonstop_counts %>% \n  arrange(-n) %>% \n  slice(1:100) %>% \n  slice(-(1:4))\n\ntop_5_words <- nonstop_counts %>% \n  arrange(-n) %>% \n  slice(1:5)\n\n\n\nThe WordCloud below shows the Top 50 words used in “Wind in the Willows”. Mr. Toad, coming in at #1, is of course our wild, load and over the top friend. Rat, while less in your face as Toad, is quite the talkative fellow, coming in at #2. Mole, our sweet, shy naive friend comes in at #3. My personal favorite, Badger comes in at #4. Although in fourth place for mentions, he is #1 in our hearts. River, home, water, animals, friends, boat and bank are all key words in painting a story about our 4 friends who live along a river.\n\n\nww_cloud <- ggplot(data = top_100_wo, aes(label = word)) +\n  geom_text_wordcloud(aes(color = n, size = n), shape = \"diamond\") +\n  scale_size_area(max_size = 6) +\n  scale_color_gradientn(colors = c(\"darkgreen\",\"blue\",\"purple\")) +\n  theme_minimal()\n\nriver <- readJPEG(\"river.jpg\")\n\nww_cloud_50 <- ggplot(data = top_50, aes(label = word)) +\n  geom_text_wordcloud(aes(color = n, size = n), shape = \"oval\") +\n  scale_size_area(max_size = 12) +\n  scale_color_gradientn(colors = c(\"dodgerblue2\",\"hotpink4\", \"darkgreen\")) +\n  theme_minimal()\n\n\n\nww <- ggdraw() +\n  draw_image(river) +\n  draw_plot(ww_cloud_50)\n\nww\n\n\n\nww_cloud_100 <- ggplot(data = top_100, aes(label = word)) +\n  geom_text_wordcloud(aes(color = n, size = n), shape = \"oval\") +\n  scale_size_area(max_size = 8) +\n  scale_color_gradientn(colors = c(\"darkgreen\",\"steelblue1\",\"deepskyblue\")) +\n  theme_minimal()\n\n\n\nIf this WordCloud intices you, I recommend reading the entire adventure!\nNow let’s look at how the book stacks up against the Afinn Ratings\n\n\nwillow_afinn <- willow_nonstop_words %>% \n  inner_join(get_sentiments(\"afinn\"))\n\nwillow_afinn_count <- willow_afinn %>% \n  count(word, value)\n\n\nwillow_nrc <- willow_nonstop_words %>% \n  inner_join(get_sentiments(\"nrc\"))\n\nwillow_nrc_counts <- willow_nrc %>% \n  count(sentiment)\n\n#ggplot(data = willow_nrc_counts, aes(x = sentiment, y = n)) +\n  #geom_col() +\n  #coord_flip()\n\nggplot(data = willow_afinn_count, aes(x = value, y = n, fill = value), show.legend = FALSE) +\n  geom_col() +\n  theme_minimal() +\n  scale_fill_gradient(high = 'darkgreen', low = 'darkred') +\n  labs(x = \"Afinn Values\",\n       y = \"Observations\",\n       title = \"Afinn Analysis Wind in the Willows\") +\n  theme(legend.position = \"none\") +\n  theme(plot.title = element_text(size = 14,\n                                   face = \"bold\",\n        hjust = 0.5),\n        axis.title.y = element_text(size = 14)) \n\n\n\n\nAfinn values assign values to words based on how positive or negative the word is. The scores go from -5 to 5. This is an adventure book, and with that comes ups and downs. We can see that through the break down of scores, a majority of words rating -2, but a lot of the words in the story are above 0.\nAs for my original analysis goals, Ass scores a -4 on the Afinn, which is represented by the left most bar on the graph.\n\n\n\n",
    "preview": "posts/ass_3_part_3 copy/word_cloud_files/figure-html5/unnamed-chunk-3-1.png",
    "last_modified": "2021-03-13T09:47:55-08:00",
    "input_file": {}
  },
  {
    "path": "posts/lob/",
    "title": "Spiny Lobster",
    "description": "Logistic Regression on 2 species of Floridian Palmettos.",
    "author": [
      {
        "name": "Shelby Walsh",
        "url": {}
      }
    ],
    "date": "2021-03-13",
    "categories": [],
    "contents": "\n\n\n\nIntroduction\nIn 2012, two additional Marine Protected Areas were established along the Santa Barbara Coast under the California Marine Life Protection Act, Naples State Marine Conservation Area and Campus Point State Marine Conservation Area. These sites were established to protect the biodiversity, abundance, and integraty of marine life, while also balancing educational and research opportunities with conservation efforts (California Department of Fish and Wildlife 2019). The two sites are home to the California spiny lobster (Panulirus interruptus), a key species in the Santa Barbara Coastal ecosystem. Spiny lobsters are a main preditor of sea urchins, kelp eating Echinoidea that without population control have been detromental to California’s Kelp Forest health. Spiny Lobsters are key to kelp forest health by preventing an imbalance of kelp consumers and the maintaing balance in an entire ecosystem (Murray 2012). Since their establishment in 2012, the Santa Barbara Coastal Long Term Ecological Research program (SBC LTER) have been collecting data on spiny lobster abundance and size from the two MPA sites, along with three other surrounding sites along the Santa Barbara Channel (Reed 2019). This analysis will use data collected by Santa Barbara Coastal LTER Divers to look at California spiny lobster abundance and length in both Marine Protected Areas and Unprotected Areas.\nFigure1. California spiny lobster (Panulirus interruptus) Photo by: Marty Snyderman\nData and Methods\nData for California spiny lobster abundance and length were collected annually from 2012 to 2018 by divers from 5 different Santa Barbara Coastal LTER sites during late summer for a total of 4,362 observations. Two of the survey locations, Isla Vista and Naples, were located within MPAs while the other three, Arroyo Quemado, Carpenteria and Mohawk were not. Lobster abundance was visualized using a line graph graph to demonstrate the change in population within each site. Mean lobster length, measured in millimeters, was compared for MPA and Unprotected sites for the first and last years of the study using a density plot for each survey site. Four Welch’s T-tests were performed to determine if lobster lengths differed between MPA sites in 2012 and 2018 and Unprotected sites in 2012 and 2018, with a significance level of 0.05. Data and figures were analysed using R Software version 1.2.1335.\n\n\n\n\nResults\nA. Annual spiny lobster abundance at 5 SBC LTER Sites\nCalifornia spiny lobster abundances were compared over a seven year period (2012-2018) at five different Santa Barbara Coastal LTER sites (Figure 2). Two of the survey locations, Isla Vista and Naples, lie within the MPAs and have seen an increase in populaiton since surveys started in 2012. Both populations saw declines in 2016 but rebounded by 2018, with Isla Vista exponentially increasing to 946 lobsters in 2018. Although four of the five sites have experienced populations peaks follwed by decline, only the MPA sites have demonstrated a more positive rebound afterwards. Although observations for 2019 are not available yet, it can be hypothesised that Carpenteria will not experience the same magnitude of population rebound as MPA sites have demonstrated.\n\n\n\n\n\n\n\n\n\nB. Comparision of lobster lengths from 2012 and 2018 at 5 SBC LTER Sites\nLobster lengths (mm) from 2012 and 2018 surveys were compared for each of the five SBC sites (Figure3). Lobster lengths show an increasing trend at MPA sites (Isla Vista and Naples) while there is less noticable shifts at Unprotected sites. Arroyo Quemado, Capenteria and Mohawk communities have stayed realativly stable in average length, while Isla Vista and Naples show a positive shift in length. Isla Vista lobster lengths shift from 66.1mm length for most of the population, to 76.6mm in 2018. Naples demonstrates a similar shift going from 73.0mm to 80.4mm in length. MPA sites show a positive change in lobster lengths, while Unprotected sites have stayed relatively the same.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nC. Lobster Length differences between Marine Protected Areas and Unprotected Sites\nStatistical analyses were ran for MPA and Unprotected sites in both 2012 and 2018. These statistics were then compared using Welch’s T Test to find if mean lobster length (mm) was significantly different for the following criteria:\nMPA Sites 2012 vs. Unprotected sites 2012 Significant difference in lobster length (mm) means. (t(42.09) = -3.25, p <0.05)\nMPA Sites 2018 vs. Unprotected sites 2018 Significant difference in lobster length (mm) means. (t(1239.51) = 7.31, p <0.05).\nMPA Sites 2012 vs. MPA Sites 2018 Significant difference in lobster length (mm) means. (t(32.5) = -4.69, p <0.05).\nUnprotected Sites 2012 vs. Unprotected Sites 2018 No significant difference in lobster length means.(t(296.01) = 1.33, p =0.18).\n\nAlthough three of the four test are statistically significant in mean lobster length differences, these findings should be held with a level of uncertainty. Due to the large sample sizes in MPA(n=1244) and Unprotected(n=561) sites in 2018 it is easier to get statistical significance with only small differences in length (Table 1). MPA 2012 vs MPA 2018 shows statistical signficance and increase in lobster size, 67.4mm to 77.6mm but it must be taken into account that MPA 2018 data has a sample size n=1244 while MPA 2012 only has a sample size n=32. Further analysis using the Cohen’s d test demonstrates a large effect size which can skew statistical significance.\n\nTable 1: Table 1. Statistical analysis of mean lobster length (mm) in 2012 and 2018 for MPA and Unprotected survey sites.\n\n\n\nSBC Lobster Length (mm) Metrics\n\n\n\nStatistical Analysis\n\n\nMPA 2012\n\n\nMPA 2018\n\n\nUnprotected 2012\n\n\nUnprotected 2018\n\n\nMean Size\n\n\n67.37500\n\n\n77.56672\n\n\n74.92462\n\n\n73.61996\n\n\nStandard Deviation\n\n\n12.15425\n\n\n11.70341\n\n\n12.41412\n\n\n10.09438\n\n\nSample Size\n\n\n32.00000\n\n\n1244.00000\n\n\n199.00000\n\n\n561.00000\n\n\nSummary\nMarine Protected Areas have observed increase in California spiny lobster abundance in the last 3 years (Figure 1)\nMarine Protected Area Survey Locations have seen a positive increase in lobster length (mm) since 2012 (Figure 2)\nMean lobster lengths (mm) between MPA 2018 sites and Unprotected sites 2018 are significanly different, but with high level of uncertainty (Table 1)\nSpiny lobster length (mm) has significantly increased between 2012 and 2018 in Marine Protected Areas, but with a large effect size possibly skewing the results (Table 1)\nReferences\nCalifornia Department of Fish and Wildlife (wildlife.ca.gov/Conservation/Marine/MPAs/MLPA). Marine Life Protection Act. Accessed 11/17/19.\nMurray D. 2012 (healthebay.org/spiny-lobsters-key-to-the-kelp/). Spiny Lobsters: Key to the Kelp. Accessed 11/17/19\nReed D. 2019. SBC LTER: Reef: Abundance, size and fishing effort for California Spiny Lobster (Panulirus interruptus), ongoing since 2012. Environmental Data Initiative. (doi.org/10.6073/pasta/a593a675d644fdefb736750b291579a0. Dataset accessed 11/17/2019.\n\n\n\n",
    "preview": "posts/lob/lobster_files/figure-html5/unnamed-chunk-4-1.png",
    "last_modified": "2021-03-13T13:04:13-08:00",
    "input_file": {}
  },
  {
    "path": "posts/part_1 _w/",
    "title": "Interactive Maps",
    "description": "Logistic Regression on 2 species of Floridian Palmettos.",
    "author": [
      {
        "name": "Shelby Walsh",
        "url": {}
      }
    ],
    "date": "2021-03-13",
    "categories": [],
    "contents": "\n\n\n#read in oil spill data\noil_spill <- read_sf(\"Oil_Spill_Incident_Tracking_shp\", layer = \"Oil_Spill_Incident_Tracking\") %>% \n  clean_names() %>% \n  rename(county = localecoun)\n\n\n#check the refrence system\n#st_crs(oil_spill)\n\n#read in ca county boundaries\n\nca_county <- read_sf(\"ca\", layer = \"CA_Counties_TIGER2016\") %>% \n  clean_names() %>% \n  select(name)\n\n\n#st_crs(ca_county)\n\n#transform to match\nca_county <- st_transform(ca_county, st_crs(oil_spill))\n\n\n\nCalifornia Oil Spills: 2008\nLet’s look at the California oilspills recorded in 2008. These spills include inland and marine oil spills. Each red do represents a recorded oil spill.\n\n\ntmap_mode(\"view\")\n\n#tm_shape(oil_spill) +\n  #tm_dots(\"county\")\n\n#tm_shape(ca_county) +\n  #tm_fill(\"name\", palette = \"YlOrBr\", show.legend = FALSE) +\n  #tm_shape(oil_spill) +\n  #tm_dots(aes(color = \"darkred\")) \n\n\n\nInland Oil Spills: 2008\nNow let’s look at just inland oil spills per county in 2008. Los Angeles County had the most recorded oil spills, with over twice as many recorded events than any other county. Los Angeles had 370 events, while the next closest, San Mateo County, had 173 events.\n\n\n#looking at inland spills counts per county\ninland <- oil_spill %>% \n  filter(inlandmari == \"Inland\")\n\nca_inland <- ca_county %>% \n  st_join(inland)\n\ninland_spill <- ca_inland %>% \n  count(county)\n \n\nggplot(data = inland_spill) +\n  geom_sf(aes(fill = n), color = \"white\", size = 0.1) +\n  scale_fill_gradientn(colors = c(\"lightgray\",\"darkorange\",\"darkred\")) +\n  theme_minimal() +\n  labs(fill = \"Number of Oil Spills per County\",\n       title = \"2008 Inland California Oil Spills\")\n\n\n\n\n\n\n\n",
    "preview": "posts/part_1 _w/maps_files/figure-html5/unnamed-chunk-3-1.png",
    "last_modified": "2021-03-13T13:01:06-08:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-02-09-welcome/",
    "title": "ARTIC SEA ICE VISUALIZATION",
    "description": "Data visualization of artic sea ice patterns over the last 40 years.",
    "author": [
      {
        "name": "Shelby Walsh",
        "url": {}
      }
    ],
    "date": "2021-02-09",
    "categories": [],
    "contents": "\nRead in data and get rid of first line\n\n\nsea_ice_org <- read_csv(here(\"_posts\",\"2021-02-09-welcome\", \"data_vis_sea_ice_copy\",\"sea_ice.csv\")) %>% \n  clean_names() \n\nsea_ice_org$date <- paste(sea_ice_org$year, sea_ice_org$number_day, sep = \"_\")\n\nsea_ice_year <- sea_ice_org %>% \n  group_by(year)\n\n\n\n\n\nsea_ice_dates <- read_csv(here(\"_posts\",\"2021-02-09-welcome\", \"data_vis_sea_ice_copy\",\"sea_ice_dates.csv\")) %>% \n  mutate(date = lubridate::mdy(standard_date),\n         ice_volume = as.numeric(Vol)) %>% \n  as_tsibble(key = NULL, index = date) %>% \n  tsibble::fill_gaps()\n\nsea_ice <- sea_ice_dates %>% \n  select(date, ice_volume)\n\n\n\nStart to build an interactive something\n\n\nsea_ice %>% \n  gg_season(year.labels=TRUE)+\n  theme_dark() +\n  scale_colour_gradient(low = \"dodgerblue3\", high=\"ivory\")\n\n\n\nice_month <- sea_ice %>% \n  index_by(yr_mo = ~yearmonth(.)) %>% \n  summarize(monthly_mean_ice = mean(ice_volume, na.rm = TRUE))\n\nggplot(data = ice_month, aes(x = yr_mo, y = monthly_mean_ice)) +\n  geom_line() \n\n\n\n# Or break it up by month: \nice_month %>% \n  ggplot(aes(x = year(yr_mo), y = monthly_mean_ice)) +\n  geom_line() +\n  facet_wrap(~month(yr_mo, label = TRUE))\n\n\n\nice_annual <- sea_ice %>% \n  index_by(yearly = ~year(.)) %>% \n  summarize(annual_ice = mean(ice_volume, na.rm = TRUE))\n\nggplot(data = ice_annual, aes(x = yearly, y = annual_ice)) +\n  geom_line()\n\n\n\nsea_ice %>%\n  ACF(ice_volume) %>%\n  autoplot()\n\n\n\nice_month %>% \n  ACF(monthly_mean_ice) %>% \n  autoplot()\n\n\n\nice_dec <- ice_month %>% \n  model(STL(monthly_mean_ice ~ season(window = Inf)))\n\ncomponents(ice_dec) %>% autoplot()\n\n\n\n\n\n\nsea_ice %>% \n  gg_season(year.labels=TRUE)+\n  theme_minimal() \n\n\n\ndark_ice <- sea_ice %>% \n  gg_season(year.labels=TRUE, continuous=TRUE)+\n  theme_dark() +\n  scale_color_gradient(low=\"dodgerblue3\", high=\"ivory\") \n  \n  \ndark_ice\n\n\n\n\n\n\nggplot(data = ice_annual, aes(x = yearly, y = annual_ice)) +\n  geom_line(color = \"dodgerblue3\", size = 1) +\n  theme_minimal() +\n  labs(x = \"\",\n       y = \"Artic Sea Ice Volume (km^3)\")\n\n\n\n\n\n\ngg_season(sea_ice, col = hsv(0.5, .35, seq(.45,.90,length.out = 15340))) +\n  theme_minimal()+\n  geom_line()\n\n\n\npolar_season <- \n  gg_season(sea_ice, year.labels=FALSE, continuous=TRUE, polar = TRUE) +\n  theme_void() \n\npolar_season\n\n\n\narctic <- readJPEG(here(\"_posts\",\"2021-02-09-welcome\", \"data_vis_sea_ice_copy\",\"arctic.jpg\"))\n\npolar_season_col <- \n  gg_season(sea_ice, year.labels=FALSE, continuous=TRUE, polar = TRUE, pal = pal_seegruen) +\n  theme_void() +\n  theme_void() \n\ntopo_yr <- ggdraw() +\n  draw_image(arctic) +\n  draw_plot(polar_season_col)\ntopo_yr\n\n\n\nggsave(\"topo_yr.png\", width = 10, height =8)\n\nrainbow_yr <- ggdraw() +\n  draw_image(arctic) +\n  draw_plot(polar_season)\n\nrainbow_yr\n\n\n\npolar_color <- \n  gg_season(sea_ice, year.labels=FALSE, continuous=TRUE, polar = TRUE) +\n  theme_void() \n\npolar_color\n\n\n\nggsave(\"polar_color.png\", width = 8, height =8)\n\ncolor_yr <- ggdraw() +\n  draw_image(arctic) +\n  draw_plot(polar_color)\n\ncolor_yr\n\n\n\nplot.new()\nlim <- par()\nrasterImage(arctic, lim$usr[1], lim$usr[3], lim$usr[2], lim$usr[4])\n\n\n\npar(new=TRUE)\nplot(polar_season)\n\nggsave(\"color_yr.png\", width = 8, height = 8)\n\n\n\n\n\n\ngg_season(sea_ice, col=topo.colors(15340), year.labels=TRUE)\n\n\n\n\n\n\n\n",
    "preview": "posts/2021-02-09-welcome/welcome_files/figure-html5/unnamed-chunk-3-1.png",
    "last_modified": "2021-03-13T09:37:17-08:00",
    "input_file": {}
  }
]
